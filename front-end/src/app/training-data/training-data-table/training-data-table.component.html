<div class="risk-management-content">
  <div class="user-management__search-box-flex">
    <div class="user-management__button-box">
      <div class="risk-report-button-box">
        <button (click)="openDialog()" mat-raised-button color="primary">
          <mat-icon> add_box </mat-icon>
          Add training data
        </button>

        <app-upload-file-material (uploaded)="fileUploaded($event)">
          Upload file</app-upload-file-material
        >

        <button (click)="downloadFile()" mat-raised-button color="primary">
          <mat-icon> download_file </mat-icon>
          Download template file
        </button>
      </div>
    </div>
  </div>
  <form [formGroup]="form">
    <mat-form-field appearance="outline" floatLabel="always">
      <mat-label>Search</mat-label>
      <input type="text" matInput formControlName="text" />
    </mat-form-field>

    <mat-form-field appearance="outline" floatLabel="always">
      <mat-label>Order</mat-label>
      <mat-select formControlName="sortBy">
        <mat-option value="id:DESC">Id / DESC</mat-option>
        <mat-option value="id:ASC">Id / ACS</mat-option>
        <mat-option value="text:DESC">Name / DESC</mat-option>
        <mat-option value="text:ASC">Name / ACS</mat-option>
        <mat-option value="claresa.(name):DESC"> CLARISA Name / DESC</mat-option>
        <mat-option value="claresa.(name):ASC"> CLARISA Name / ACS</mat-option>
      </mat-select>
    </mat-form-field>
  </form>
  <div class="table-box">
    <div class="table-box">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let element">{{ element.id }}</td>
        </ng-container>

        <!-- Text Column -->
        <ng-container matColumnDef="text">
          <th mat-header-cell *matHeaderCellDef>Text</th>
          <td mat-cell *matCellDef="let element">{{ element.text }}</td>
        </ng-container>

        <!-- CLARISA Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>CLARISA Name</th>
          <td mat-cell *matCellDef="let element">
            {{ element.claresa.name }}
          </td>
        </ng-container>

        <!-- CLARISA Acronym Column -->
        <ng-container matColumnDef="acronym">
          <th mat-header-cell *matHeaderCellDef>CLARISA Acronym</th>
          <td mat-cell *matCellDef="let element">
            {{ element.claresa.acronym }}
          </td>
        </ng-container>

        <ng-container matColumnDef="source">
          <th mat-header-cell *matHeaderCellDef>Source</th>
          <td mat-cell *matCellDef="let element">{{ element.source }}</td>
        </ng-container>

        <!-- Action Name Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h5">Action</span>
          </th>
          <td mat-cell *matCellDef="let element">
            <div class="m">
              <button
                class="training-data-table-icon"
                matTooltip="Edit"
                (click)="openDialog(element.id)"
              >
                <mat-icon class="training-data-table__icon"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="35"
                    height="45"
                    viewBox="0 0 35 35"
                    fill="none"
                  >
                    <path
                      d="M20.5925 6.76L23.24 9.40625M22.295 4.42875L15.1363 11.5875C14.7664 11.9569 14.5141 12.4275 14.4113 12.94L13.75 16.25L17.06 15.5875C17.5725 15.485 18.0425 15.2337 18.4125 14.8637L25.5713 7.705C25.7864 7.48988 25.957 7.23449 26.0734 6.95342C26.1899 6.67235 26.2498 6.3711 26.2498 6.06687C26.2498 5.76264 26.1899 5.4614 26.0734 5.18033C25.957 4.89926 25.7864 4.64387 25.5713 4.42875C25.3561 4.21363 25.1007 4.04298 24.8197 3.92656C24.5386 3.81014 24.2374 3.75021 23.9331 3.75021C23.6289 3.75021 23.3276 3.81014 23.0466 3.92656C22.7655 4.04298 22.5101 4.21363 22.295 4.42875Z"
                      stroke="#04030f"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M23.75 18.75V22.5C23.75 23.163 23.4866 23.7989 23.0178 24.2678C22.5489 24.7366 21.913 25 21.25 25H7.5C6.83696 25 6.20107 24.7366 5.73223 24.2678C5.26339 23.7989 5 23.163 5 22.5V8.75C5 8.08696 5.26339 7.45107 5.73223 6.98223C6.20107 6.51339 6.83696 6.25 7.5 6.25H11.25"
                      stroke="#04030f"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    /></svg
                ></mat-icon>
              </button>

              <button
                class="training-data-table-icon"
                matTooltip="Delete"
                (click)="deleteTrainingDataById(element.id)"
              >
                <mat-icon class="training-data-table__icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="35"
                    height="45"
                    viewBox="0 0 35 35"
                    fill="none"
                  >
                    <path
                      d="M23.75 5H19.375L18.125 3.75H11.875L10.625 5H6.25V7.5H23.75M7.5 23.75C7.5 24.413 7.76339 25.0489 8.23223 25.5178C8.70107 25.9866 9.33696 26.25 10 26.25H20C20.663 26.25 21.2989 25.9866 21.7678 25.5178C22.2366 25.0489 22.5 24.413 22.5 23.75V8.75H7.5V23.75Z"
                      fill="#04030f"
                    /></svg
                ></mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr
          class="table-header"
          mat-header-row
          *matHeaderRowDef="columnsToDisplay"
        ></tr>
        <tr
          class="table-header"
          mat-row
          *matRowDef="let row; columns: columnsToDisplay"
        ></tr>
      </table>

      <mat-paginator
        [pageSizeOptions]="[50, 100, 150, 200]"
        [length]="length"
        [pageSize]="pageSize"
        [pageIndex]="pageIndex"
        showFirstLastButtons
        (page)="handlePageEvent($event)"
      >
      </mat-paginator>
    </div>
  </div>
</div>
